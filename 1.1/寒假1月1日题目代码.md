## 洛谷 P2241 统计方形（数据加强版）
```cpp
#include<cstdio>
#include<iostream>
#include<algorithm>
using namespace std;

typedef long long ll;

int main(void)
{
	int n, m;
	cin >> n >> m;
	ll squ = 0, rec = 0;
	
	for (int h = 1; h <= n; h ++)
	{
		for (int w = 1; w <= m; w ++)
		{
			if (h == w)	squ += (n - h + 1) * (m - w + 1);
			else	rec += (n - h + 1) * (m - w + 1);
			
		}
	}
	
	cout << squ << " " << rec << endl;
	
	return 0;
}
```

## 洛谷 P2089 烤鸡
```cpp
#include<cstdio>
#include<iostream>
#include<algorithm>
#include<unordered_map>
#include<string>
using namespace std;

string s = "0000000000";
string res[10000];
int cnt;
int n;

void dfs(int ans, int k)
{
	if (k == 10)
	{
		if (ans == n)	res[cnt ++] = s;
		return;
	}
	
	for (int i = 1; i <= 3; i ++)
	{
		s[k] += i;
		
		dfs(ans + i, k + 1);
		s[k] -= i;
	}
}

int main(void)
{
	cin >> n;
	if (n < 10 || n > 30)	printf("0");
	else
	{
		dfs(0, 0);
		cout << cnt << endl;
		for (int i = 0; i < cnt; i ++)
		{
			for (int j = 0; j < 10; j ++)	printf("%c ", res[i][j]);
			puts("");
		}
	}
	
	return 0;
}
```

## 洛谷 P1618 三连击（升级版）
```cpp
#include<stdio.h>
int main(void)
{
	int a, b, c, i, j;
	int x1, x2, x3;
	int num[10];
	int vis = 0;
	scanf("%d %d %d", &x1, &x2, &x3);
	for( a=111; a<=999; a++)
	{
		double b1 = x2*1.0/x1*a;
		double c1 = x3*1.0/x1*a;
		if( b1-(int)b1>0 || c1-(int)c1>0)
		{
			continue;
		}
		b = (int)b1;
		c = (int)c1;
		if( b<111 || c<111 || b>999 || c>999)
		{
			continue;
		}
		
		num[1] = a % 10, num[2] = a / 100, num[3] = a / 10 % 10;
		num[4] = b % 10, num[5] = b / 100, num[6] = b / 10 % 10;
		num[7] = c % 10, num[8] = c / 100, num[9] = c / 10 % 10;
		
		for( i = 1; i < 9; i ++)
		{
			for( j = i+1; j < 10; j ++)
			{
				if( num[j]==0)
				{
					break;
				}
				if( num[i]==num[j])
				{
					break;
				}
			}
			if( j!=10)
			{
				break;
			}
		}
		if( i==9)
		{
			printf("%d %d %d\n", a, b, c);
			vis = 1;
		}
	}
	if(!vis)
	{
		printf("No!!!\n");
	}
	return 0;
}
```

## 洛谷 P1036 [NOIP2002 普及组] 选数
```cpp
#include<cstdio>
#include<iostream>
#include<algorithm>
using namespace std;

int n, k;
int a[30];
bool st[30];
int cnt;

bool is_prime(int n)
{
	if (n <= 1)	return false;
	for (int i = 2; i <= n / i; i ++)
	{
		if (n % i == 0)	return false;
	}
	return true;
}

void dfs(int ans, int u, int t)
{
	if (u == k)
	{
		if (is_prime(ans))	cnt ++;
		return;
	}
	
	for (int i = t; i < n; i ++)
	{
		if (!st[i])
		{
			st[i] = true;
			dfs(ans + a[i], u + 1, i);
			st[i] = false;
		}
	}
}

int main(void)
{
	cin >> n >> k;
	for (int i = 0; i < n; i ++)	scanf("%d", &a[i]);
	dfs(0, 0, 0);
	printf("%d", cnt);
	
	return 0; 
}
```

## 洛谷 P1157 组合的输出
```cpp
#include<cstdio>
#include<iostream>
#include<algorithm>
using namespace std;

int n, k;
int a[25];
bool st[25];

void dfs(int u, int t)
{
	if (u == k)
	{
		for (int i = 1; i <= n; i ++)
		{
			if (st[i])	printf("%3d", i);
		}
		puts("");
		return;
	}
	
	for (int i = t; i <= n; i ++)
	{
		if (!st[i])
		{
			st[i] = true;
			dfs(u + 1, i);
			st[i] = false;
		}
	}
}

int main(void)
{
	cin >> n >> k;
	for (int i = 1; i <= n; i ++)	a[i] = i;
	
	dfs(0, 1);
	
	return 0;
}
```

## 洛谷 P1706 全排列问题
```cpp
#include<stdio.h>

int ans[10];
int vis[10];
int n;

void dfs (int step)
{
	int i, j;
	if( step>n)
	{
		for( i=1; i<=n; i++)
		{
			printf("%5d", ans[i]);
			
		}
		printf("\n");
		return;
	}
	
	for( j=1; j<=n; j++)
	{
		if(vis[j]==0)
		{
			vis[j] = 1;
			ans[step] = j;
			dfs(step+1);
			vis[j] = 0;
		}
	}
	return;
}

int main()
{
	scanf("%d", &n);
	dfs(1);
	return 0;
}
```

## 洛谷 P1088 [NOIP2004 普及组] 火星人
```cpp
#include<cstdio>
#include<iostream>
#include<algorithm>
using namespace std;

const int N = 10010;
int a[N];

int main(void)
{
	int n, m;
	scanf("%d%d", &n, &m);
	for (int i = 0; i < n; i ++)	scanf("%d", &a[i]);
	while (m --)
	{
		next_permutation(a, a + n);
	}
	for (int i = 0; i < n; i ++)	printf("%d ", a[i]);
	
	return 0;
}
```

## 洛谷 P3392 涂国旗
```cpp
#include<cstdio>
#include<iostream>
#include<algorithm>
#include<string>
using namespace std;

int n, m;
string mapp[60];
struct color{
	int w, b, r;
}color[60];

int main(void)
{
	scanf("%d%d", &n, &m);
	for (int i = 0; i < n; i ++)
	{
		cin >> mapp[i];
	}
	
	for (int i = 0; i < n; i ++)
	{
		int w = 0, b = 0, r = 0;
		for (int j = 0; j < m; j ++)
		{
			char c = mapp[i][j];
			switch(c)
			{
				case 'W':
					w ++;
					break;
				case 'B':
					b ++;
					break;
				case 'R':
					r ++;
					break;	
			}
		}
		color[i] = {w, b, r};
	}
	
	int res = 99999999;
	for (int i = 0; i < n - 2; i ++)
	{
		for (int j = 0; j < n - 2 - i; j ++)
		{
			if (i + j + 2 >= n)	continue;
			int ans = 0;
//			cout << res << " " << i << " " << j << " " << endl; 
			for (int k = 0; k < n; k ++)
			{
				if (k <= i)	ans += m - color[k].w;
				else if (k >= n - j - 1) ans += m - color[k].r;
				else ans += m - color[k].b;
//				cout << color[k].w << " " << color[k].b << " " << color[k].r << " " << endl;
//				cout << k << " " << ans << endl;
			}
			res = min(res, ans);
		}
	}
	cout << res << endl;
	
	return 0;
}
```

## 洛谷 P3654 First Step (ファ`ストステップ)
```cpp
#include<cstdio>
#include<iostream>
#include<algorithm>
#include<string>
using namespace std;

string mapp[110];
int r, c, k;

int dirc[5] = {-1, 0, 1, 0, -1};

bool check(int x, int y)
{
	if (x >= 0 && y >= 0 && x < r && y < c)
	{
		if (mapp[x][y] == '.')	return true;
	}
	return false;
}

int main(void)
{
	scanf("%d%d%d", &r, &c, &k);
	for (int i = 0; i < r; i ++)
	{
		cin >> mapp[i];
	}
	
	int cnt = 0;
	for (int i = 0; i < r; i ++)
	{
		for (int j = 0; j < c; j ++)
		{
			if (mapp[i][j] == '.')
			{
				if (k == 1)	cnt ++;
				else
				{
					for (int t = 0; t < 4; t ++)
					{
						int tx = i, ty = j;
						int num = 1;
						while (num < k)
						{
							int nowx = tx + dirc[t];
							int nowy = ty + dirc[t + 1];
							if (check(nowx, nowy))
							{
								tx = nowx;
								ty = nowy;
								num ++;
							}
							else	break;
						}
						if (num == k)	cnt ++;
					}
				}
//				cout << i << " " << j << " " << cnt << endl; 
				mapp[i][j] = '#';
			}
		}
	}
	
	printf("%d\n", cnt);
	
	return 0;
}
```

## 洛谷 P1217 [USACO1.5]回文质数 Prime Palindromes
```cpp
#include<cstdio>
#include<cmath>

int isPrime(int x)
{
	int k = sqrt(x);
	for(int i=2; i<=k; i++)
	{
		if(x%i==0)
		{
			return 0;
		}
	}
	return 1;
}

int isPalind(int x)
{
	int k=0;
	int t=x;
	while(t!=0)
	{
		t /= 10;
		k ++;
	}
	int num = k;
	for(int i=1; i<k; i++, k--)
	{
		int y = x%10;
		int z = x/pow(10,num-1);
		if(y!=z)
		{
			return 0;
		}
		x %= (int)pow(10, num-1);
		x /= 10;
		num -= 2;
	}
	return 1;
}

int main(void)
{
	int a, b;
	scanf("%d %d", &a, &b);
	for(int i=a; i<=b; i++)
	{
		if(i%2==0)
		{
			continue;
		}
		if(i>=10000000)
		{
			break;
		}
		if(isPalind(i) && isPrime(i))
		{
			printf("%d\n", i);
		}
	}
	return 0;
}
```